[INFO   ] [Base        ] Leaving application in progress...
 Traceback (most recent call last):
   File "gui.py", line 332, in <module>
     MainApp().run()
   File "/home/iascr/.local/lib/python3.8/site-packages/kivy/app.py", line 956, in run
     runTouchApp()
   File "/home/iascr/.local/lib/python3.8/site-packages/kivy/base.py", line 574, in runTouchApp
     EventLoop.mainloop()
   File "/home/iascr/.local/lib/python3.8/site-packages/kivy/base.py", line 339, in mainloop
     self.idle()
   File "/home/iascr/.local/lib/python3.8/site-packages/kivy/base.py", line 383, in idle
     self.dispatch_input()
   File "/home/iascr/.local/lib/python3.8/site-packages/kivy/base.py", line 334, in dispatch_input
     post_dispatch_input(*pop(0))
   File "/home/iascr/.local/lib/python3.8/site-packages/kivy/base.py", line 263, in post_dispatch_input
     listener.dispatch('on_motion', etype, me)
   File "kivy/_event.pyx", line 731, in kivy._event.EventDispatcher.dispatch
   File "/home/iascr/.local/lib/python3.8/site-packages/kivy/core/window/__init__.py", line 1691, in on_motion
     self.dispatch('on_touch_down', me)
   File "kivy/_event.pyx", line 731, in kivy._event.EventDispatcher.dispatch
   File "/home/iascr/.local/lib/python3.8/site-packages/kivy/core/window/__init__.py", line 1708, in on_touch_down
     if w.dispatch('on_touch_down', touch):
   File "kivy/_event.pyx", line 731, in kivy._event.EventDispatcher.dispatch
   File "/home/iascr/.local/lib/python3.8/site-packages/kivy/uix/screenmanager.py", line 1210, in on_touch_down
     return super(ScreenManager, self).on_touch_down(touch)
   File "/home/iascr/.local/lib/python3.8/site-packages/kivy/uix/widget.py", line 589, in on_touch_down
     if child.dispatch('on_touch_down', touch):
   File "kivy/_event.pyx", line 731, in kivy._event.EventDispatcher.dispatch
   File "/home/iascr/.local/lib/python3.8/site-packages/kivy/uix/relativelayout.py", line 306, in on_touch_down
     ret = super(RelativeLayout, self).on_touch_down(touch)
   File "/home/iascr/.local/lib/python3.8/site-packages/kivy/uix/widget.py", line 589, in on_touch_down
     if child.dispatch('on_touch_down', touch):
   File "kivy/_event.pyx", line 731, in kivy._event.EventDispatcher.dispatch
   File "/home/iascr/.local/lib/python3.8/site-packages/kivy/uix/widget.py", line 589, in on_touch_down
     if child.dispatch('on_touch_down', touch):
   File "kivy/_event.pyx", line 731, in kivy._event.EventDispatcher.dispatch
   File "/home/iascr/.local/lib/python3.8/site-packages/kivy/uix/widget.py", line 589, in on_touch_down
     if child.dispatch('on_touch_down', touch):
   File "kivy/_event.pyx", line 731, in kivy._event.EventDispatcher.dispatch
   File "gui.py", line 37, in on_touch_down
     App.get_running_app().on_map_touch(touch, self)
   File "gui.py", line 243, in on_map_touch
     offset_y <= touch_local_y < offset_y + displayed_h):
 UnboundLocalError: local variable 'displayed_h' referenced before assignment
